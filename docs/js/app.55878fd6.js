(function(t){function e(e){for(var r,a,s=e[0],u=e[1],c=e[2],l=0,h=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);f&&f(e);while(h.length)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var f=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-tabs",{attrs:{centered:!0}},[n("v-tab",{attrs:{href:"#tab-home"}},[t._v("ホーム")]),n("v-tab",{attrs:{href:"#tab-regist"}},[t._v("データ登録")]),n("v-tab-item",{attrs:{value:"tab-home"}},[n("Home")],1),n("v-tab-item",{attrs:{value:"tab-regist"}},[n("Regist")],1)],1),n("v-btn",{attrs:{color:"pink",dark:"",small:"",fixed:"",bottom:"",right:"",fab:""},on:{click:function(e){return t.$vuetify.goTo(0)}}},[n("v-icon",[t._v("mdi-chevron-up")])],1)],1)},o=[],a=(n("99af"),n("a434"),n("2909")),s=(n("96cf"),n("1da1")),u=n("8d13"),c=n.n(u),f=new c.a("AppDatabase0001");f.version(1).stores({dataset:"++id, kana, kanji"});var l={debug:!0,db:f,currentItems:[],newItems:[],setCurrentItems:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.db.dataset.toArray();case 2:r=e.sent,(n=t.currentItems).splice.apply(n,[0,t.currentItems.length].concat(Object(a["a"])(r)));case 4:case"end":return e.stop()}}),e)})))()},updateCurrentItems:function(){var t;(t=this.currentItems).splice.apply(t,[0,this.currentItems.length].concat(Object(a["a"])(this.newItems||[]))),this.db.dataset.clear(),this.db.dataset.bulkAdd(this.currentItems)},setNewItems:function(t){var e;(e=this.newItems).splice.apply(e,[0,this.newItems.length].concat(Object(a["a"])(t||[])))},clearNewItems:function(){this.newItems.splice(0)}},h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home justify-space-between"},[n("v-card",{staticClass:"mx-auto text-center",attrs:{tile:"","max-width":"400px"}},[n("v-card-text",[n("h4",[t._v(t._s(t.item.kana))]),n("h2",[t._v(t._s(t.item.kanji))])]),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{block:""},on:{click:t.getRandomItem}},[t._v("抽選")])],1),n("v-card",{staticClass:"mx-auto"},[n("v-card-title",[t._v("現在のデータ："+t._s(t.items.length)+"件")]),n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",[t._v("No.")]),n("th",[t._v("名前")]),n("th",[t._v("フリガナ")])])]),n("tbody",t._l(t.items,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(r+1))]),n("td",[t._v(t._s(e[0]))]),n("td",[t._v(t._s(e[1]))])])})),0)]},proxy:!0}])})],1)],1)],1)},d=[],p={name:"Home",data:function(){return{item:{kana:"フリガナ",kanji:"名前"},items:l.currentItems}},methods:{getRandomItem:function(){if(l.currentItems&&l.currentItems.length>0){var t=Math.floor(Math.random()*l.currentItems.length);this.item.kana=l.currentItems[t][1],this.item.kanji=l.currentItems[t][0]}else alert("データがありません")}}},v=p,m=(n("e89f"),n("2877")),g=n("6544"),y=n.n(g),b=n("8336"),_=n("b0af"),w=n("99d9"),k=n("ce7e"),x=n("1f4f"),E=Object(m["a"])(v,h,d,!1,null,"5a011ffc",null),I=E.exports;y()(E,{VBtn:b["a"],VCard:_["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:w["c"],VDivider:k["a"],VSimpleTable:x["a"]});var O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"regist justify-space-between"},[n("v-card",{staticClass:"mx-auto text-center",attrs:{tile:"","max-width":"400px"}},[n("v-card-actions",[n("v-container",[n("v-row",[n("v-file-input",{attrs:{label:"CSV File Input",accept:".csv,text/csv"},on:{change:t.handleUpload,"click:clear":function(e){return t.clearInput()}},model:{value:t.csvInput,callback:function(e){t.csvInput=e},expression:"csvInput"}})],1),n("v-row",{directives:[{name:"show",rawName:"v-show",value:t.newItems.length>0,expression:"newItems.length > 0"}]},[n("v-col",[n("v-btn",{on:{click:t.saveData}},[t._v("データ上書き")])],1),n("v-col",[n("v-btn",{on:{click:function(e){return t.clearInput()}}},[t._v("キャンセル")])],1)],1)],1)],1),n("v-card",{staticClass:"mx-auto"},[n("v-card-title",[t._v("新しいデータ: "+t._s(t.newItems.length)+"件")]),n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",[t._v("No.")]),n("th",[t._v("名前")]),n("th",[t._v("フリガナ")])])]),n("tbody",t._l(t.newItems,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(r+1))]),n("td",[t._v(t._s(e[0]))]),n("td",[t._v(t._s(e[1]))])])})),0)]},proxy:!0}])})],1)],1)],1)},C=[],S=n("bcf9"),j=n.n(S),A={name:"Regist",data:function(){return{newItems:l.newItems||[],csvInput:null}},methods:{saveData:function(){confirm("データを上書します")&&(l.updateCurrentItems(),alert(l.currentItems.length+"件上書しました"),this.clearInput())},handleUpload:function(t){if(t){var e=new FileReader;e.onload=function(t){var e=t.target.result,n={skipEmptyLines:!0},r=j.a.parse(e,n);l.setNewItems(r.data)},e.readAsText(t)}},clearInput:function(){l.clearNewItems(),this.csvInput=null}}},D=A,P=(n("c908"),n("62ad")),T=n("a523"),R=n("23a7"),F=n("0fd9"),K=Object(m["a"])(D,O,C,!1,null,"138e0f36",null),M=K.exports;y()(K,{VBtn:b["a"],VCard:_["a"],VCardActions:w["a"],VCardTitle:w["c"],VCol:P["a"],VContainer:T["a"],VFileInput:R["a"],VRow:F["a"],VSimpleTable:x["a"]}),l.setCurrentItems();var B={name:"App",components:{Home:I,Regist:M},data:function(){return{}}},N=B,q=n("7496"),L=n("132d"),U=n("71a3"),V=n("c671"),z=n("fe57"),W=Object(m["a"])(N,i,o,!1,null,null,null),H=W.exports;y()(W,{VApp:q["a"],VBtn:b["a"],VIcon:L["a"],VTab:U["a"],VTabItem:V["a"],VTabs:z["a"]});var Q=n("9483");Object(Q["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var J=n("f309");r["a"].use(J["a"]);var $=new J["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:$,render:function(t){return t(H)}}).$mount("#app")},"78b2":function(t,e,n){},"8d13":function(t,e,n){(function(r){var i,o;n("a4d3"),n("e01a"),n("d28b"),n("944a"),n("99af"),n("a623"),n("4de4"),n("4160"),n("c975"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("45fc"),n("a434"),n("ace4"),n("b0c0"),n("0c47"),n("23dc"),n("e439"),n("3410"),n("e21d"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("2ca0"),n("498a"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),n("130f");var a=n("7037");!function(r,s){"object"==a(e)&&"undefined"!=typeof t?t.exports=s():(i=s,o="function"===typeof i?i.call(e,n,e,t):i,void 0===o||(t.exports=o))}(0,(function(){"use strict";function t(t,e){return"object"!=a(e)||Pt(e).forEach((function(n){t[n]=e[n]})),t}function e(t,e){return Kt.call(t,e)}function n(t,e){"function"==typeof e&&(e=e(Ft(t))),Pt(e).forEach((function(n){i(t,n,e[n])}))}function i(n,r,i,o){Mt(n,r,t(i&&e(i,"get")&&"function"==typeof i.get?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},o))}function o(t){return{from:function(e){return t.prototype=Object.create(e.prototype),i(t.prototype,"constructor",t),{extend:n.bind(null,t.prototype)}}}}function s(t,e){var n,r=Bt(t,e);return r||(n=Ft(t))&&s(n,e)}function u(t,e,n){return Nt.call(t,e,n)}function c(t,e){return e(t)}function f(t){if(!t)throw new Error("Assertion Failed")}function l(t){Rt.setImmediate?setImmediate(t):setTimeout(t,0)}function h(t,e){return t.reduce((function(t,n,r){var i=e(n,r);return i&&(t[i[0]]=i[1]),t}),{})}function d(t,e){return function(){try{t.apply(this,arguments)}catch(t){e(t)}}}function p(t,e,n){try{t.apply(null,n)}catch(t){e&&e(t)}}function v(t,n){if(e(t,n))return t[n];if(!n)return t;if("string"!=typeof n){for(var r=[],i=0,o=n.length;i<o;++i){var a=v(t,n[i]);r.push(a)}return r}var s=n.indexOf(".");if(-1!==s){var u=t[n.substr(0,s)];return void 0===u?void 0:v(u,n.substr(s+1))}}function m(t,e,n){if(t&&void 0!==e&&!("isFrozen"in Object&&Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){f("string"!=typeof n&&"length"in n);for(var r=0,i=e.length;r<i;++r)m(t,e[r],n[r])}else{var o=e.indexOf(".");if(-1!==o){var a=e.substr(0,o),s=e.substr(o+1);if(""===s)void 0===n?delete t[a]:t[a]=n;else{var u=t[a];u||(u=t[a]={}),m(u,s,n)}}else void 0===n?delete t[e]:t[e]=n}}function g(t,e){"string"==typeof e?m(t,e,void 0):"length"in e&&[].map.call(e,(function(e){m(t,e,void 0)}))}function y(t){var n={};for(var r in t)e(t,r)&&(n[r]=t[r]);return n}function b(t){return qt.apply([],t)}function _(t){if(!t||"object"!=a(t))return t;var n;if(Tt(t)){n=[];for(var r=0,i=t.length;r<i;++r)n.push(_(t[r]))}else if(Lt.indexOf(t.constructor)>=0)n=t;else for(var o in n=t.constructor?Object.create(t.constructor.prototype):{},t)e(t,o)&&(n[o]=_(t[o]));return n}function w(t,n,r,i){return r=r||{},i=i||"",Pt(t).forEach((function(o){if(e(n,o)){var s=t[o],u=n[o];"object"==a(s)&&"object"==a(u)&&s&&u&&""+s.constructor==""+u.constructor?w(s,u,r,i+o+"."):s!==u&&(r[i+o]=n[o])}else r[i+o]=void 0})),Pt(n).forEach((function(o){e(t,o)||(r[i+o]=n[o])})),r}function k(t){var e,n,r,i;if(1===arguments.length){if(Tt(t))return t.slice();if(this===zt&&"string"==typeof t)return[t];if(i=Vt(t)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}function x(t,e){Wt=t,Ht=e}function E(){if(Qt)try{throw E.arguments,new Error}catch(t){return t}return new Error}function I(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(Ht).map((function(t){return"\n"+t})).join("")):""}function O(t,e){return function(){return console.warn(t+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+I(E(),1)),e.apply(this,arguments)}}function C(t,e){this._e=E(),this.name=t,this.message=e}function S(t,e){return t+". Errors: "+e.map((function(t){return t.toString()})).filter((function(t,e,n){return n.indexOf(t)===e})).join("\n")}function j(t,e,n,r){this._e=E(),this.failures=e,this.failedKeys=r,this.successCount=n}function A(t,e){this._e=E(),this.name="BulkError",this.failures=e,this.message=S(t,e)}function D(t,e){if(!t||t instanceof C||t instanceof TypeError||t instanceof SyntaxError||!t.name||!ee[t.name])return t;var n=new ee[t.name](e||t.message,t);return"stack"in t&&i(n,"stack",{get:function(){return this.inner.stack}}),n}function P(){}function T(t){return t}function R(t,e){return null==t||t===T?e:function(n){return e(t(n))}}function F(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function K(t,e){return t===P?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?F(r,this.onsuccess):r),i&&(this.onerror=this.onerror?F(i,this.onerror):i),void 0!==o?o:n}}function M(t,e){return t===P?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?F(n,this.onsuccess):n),r&&(this.onerror=this.onerror?F(r,this.onerror):r)}}function B(e,n){return e===P?n:function(r){var i=e.apply(this,arguments);t(r,i);var o=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=n.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?F(o,this.onsuccess):o),a&&(this.onerror=this.onerror?F(a,this.onerror):a),void 0===i?void 0===s?void 0:s:t(i,s)}}function N(t,e){return t===P?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function q(t,e){return t===P?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return e.apply(r,o)}))}return e.apply(this,arguments)}}function L(t){if("object"!=a(this))throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=P,this._lib=!1;var e=this._PSD=Ee;if(Wt&&(this._stackHolder=E(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==re)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&z(this,this._value))}this._state=null,this._value=null,++e.ref,V(this,t)}function U(t,e,n,r,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=i}function V(t,e){try{e((function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&Y();e&&"function"==typeof e.then?V(t,(function(t,n){e instanceof L?e._then(t,n):e.then(t,n)})):(t._state=!0,t._value=e,W(t)),n&&Z()}}),z.bind(null,t))}catch(e){z(t,e)}}function z(t,e){if(_e.push(e),null===t._state){var n=t._lib&&Y();e=ke(e),t._state=!1,t._value=e,Wt&&null!==e&&"object"==a(e)&&!e._promise&&p((function(){var n=s(e,"stack");e._promise=t,i(e,"stack",{get:function(){return pe?n&&(n.get?n.get.apply(e):n.value):t.stack}})})),et(t),W(t),n&&Z()}}function W(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)H(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),0===Oe&&(++Oe,me((function(){0==--Oe&&X()}),[]))}function H(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Oe,me(Q,[n,t,e])}else t._listeners.push(e)}function Q(t,e,n){try{we=e;var r,i=e._value;e._state?r=t(i):(_e.length&&(_e=[]),r=t(i),-1===_e.indexOf(i)&&nt(e)),n.resolve(r)}catch(t){n.reject(t)}finally{we=null,0==--Oe&&X(),--n.psd.ref||n.psd.finalize()}}function J(t,e,n){if(e.length===n)return e;var r="";if(!1===t._state){var i,o,a=t._value;null!=a?(i=a.name||"Error",o=a.message||a,r=I(a,0)):(i=a,o=""),e.push(i+(o?": "+o:"")+r)}return Wt&&(r=I(t._stackHolder,2),r&&-1===e.indexOf(r)&&e.push(r),t._prev&&J(t._prev,e,n)),e}function $(t,e){var n=e?e._numPrev+1:0;n<ie&&(t._prev=e,t._numPrev=n)}function G(){Y()&&Z()}function Y(){var t=ge;return ge=!1,ye=!1,t}function Z(){var t,e,n;do{for(;Ie.length>0;)for(t=Ie,Ie=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(Ie.length>0);ge=!0,ye=!0}function X(){var t=be;be=[],t.forEach((function(t){t._PSD.onunhandled.call(null,t._value,t)}));for(var e=Ce.slice(0),n=e.length;n;)e[--n]()}function tt(t){function e(){t(),Ce.splice(Ce.indexOf(e),1)}Ce.push(e),++Oe,me((function(){0==--Oe&&X()}),[])}function et(t){be.some((function(e){return e._value===t._value}))||be.push(t)}function nt(t){for(var e=be.length;e;)if(be[--e]._value===t._value)return void be.splice(e,1)}function rt(t){return new L(re,!1,t)}function it(t,e){var n=Ee;return function(){var r=Y(),i=Ee;try{return lt(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{lt(i,!1),r&&Z()}}}function ot(e,n,r,i){var o=Ee,a=Object.create(o);a.parent=o,a.ref=0,a.global=!1,a.id=++Fe;var s=xe.env;a.env=de?{Promise:L,PromiseProp:{value:L,configurable:!0,writable:!0},all:L.all,race:L.race,resolve:L.resolve,reject:L.reject,nthen:mt(s.nthen,a),gthen:mt(s.gthen,a)}:{},n&&t(a,n),++o.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=dt(a,e,r,i);return 0===a.ref&&a.finalize(),u}function at(){return Ae.id||(Ae.id=++De),++Ae.awaits,Ae.echoes+=oe,Ae.id}function st(t){!Ae.awaits||t&&t!==Ae.id||(0==--Ae.awaits&&(Ae.id=0),Ae.echoes=Ae.awaits*oe)}function ut(t){return Ae.echoes&&t&&t.constructor===le?(at(),t.then((function(t){return st(),t}),(function(t){return st(),Me(t)}))):t}function ct(t){++Re,Ae.echoes&&0!=--Ae.echoes||(Ae.echoes=Ae.id=0),Pe.push(Ee),lt(t,!0)}function ft(){var t=Pe[Pe.length-1];Pe.pop(),lt(t,!1)}function lt(t,e){var n=Ee;if((e?!Ae.echoes||Te++&&t===Ee:!Te||--Te&&t===Ee)||pt(e?ct.bind(null,t):ft),t!==Ee&&(Ee=t,n===xe&&(xe.env=ht()),de)){var r=xe.env.Promise,i=t.env;ue.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(Rt,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject)}}function ht(){var t=Rt.Promise;return de?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Rt,"Promise"),all:t.all,race:t.race,resolve:t.resolve,reject:t.reject,nthen:ue.then,gthen:t.prototype.then}:{}}function dt(t,e,n,r,i){var o=Ee;try{return lt(t,!0),e(n,r,i)}finally{lt(o,!1)}}function pt(t){fe.call(se,t)}function vt(t,e,n){return"function"!=typeof t?t:function(){var r=Ee;n&&at(),lt(e,!0);try{return t.apply(this,arguments)}finally{lt(r,!1)}}}function mt(t,e){return function(n,r){return t.call(this,vt(n,e,!1),vt(r,e,!1))}}function gt(e,n){var r;try{r=n.onuncatched(e)}catch(t){}if(!1!==r)try{var i,o={promise:n,reason:e};if(Rt.document&&document.createEvent?(i=document.createEvent("Event"),i.initEvent(Ke,!0,!0),t(i,o)):Rt.CustomEvent&&(i=new CustomEvent(Ke,{detail:o}),t(i,o)),i&&Rt.dispatchEvent&&(dispatchEvent(i),!Rt.PromiseRejectionEvent&&Rt.onunhandledrejection))try{Rt.onunhandledrejection(i)}catch(t){}i.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(t){}}function yt(t){function e(t,e,o){if("object"==a(t))return n(t);e||(e=N),o||(o=P);var s={subscribers:[],fire:o,subscribe:function(t){-1===s.subscribers.indexOf(t)&&(s.subscribers.push(t),s.fire=e(s.fire,t))},unsubscribe:function(t){s.subscribers=s.subscribers.filter((function(e){return e!==t})),s.fire=s.subscribers.reduce(e,o)}};return r[t]=i[t]=s,s}function n(t){Pt(t).forEach((function(n){var r=t[n];if(Tt(r))e(n,t[n][0],t[n][1]);else{if("asap"!==r)throw new te.InvalidArgument("Invalid event config");var i=e(n,T,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];i.subscribers.forEach((function(t){l((function(){t.apply(null,e)}))}))}))}}))}var r={},i=function(e,n){if(n){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return r[e].subscribe.apply(null,o),t}if("string"==typeof e)return r[e]};i.addEventType=e;for(var o=1,s=arguments.length;o<s;++o)e(arguments[o]);return i}function bt(r,o){function s(t){this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function l(t,e,n){var r=Xt._createTransaction(Zt,Vt,Lt);r.create(e),r._completion.catch(n);var i=r._reject.bind(r);ot((function(){Ee.trans=r,0===t?(Pt(Lt).forEach((function(t){I(e,t,Lt[t].primKey,Lt[t].indexes)})),L.follow((function(){return Xt.on.populate.fire(r)})).catch(i)):g(t,r,e).catch(i)}))}function g(t,e,n){function r(){return i.length?L.resolve(i.shift()(e.idbtrans)).then(r):L.resolve()}var i=[],o=Ut.filter((function(e){return e._cfg.version===t}))[0];if(!o)throw new te.Upgrade("Dexie specification of currently installed DB version is missing");Lt=Xt._dbSchema=o._cfg.dbschema;var a=!1;return Ut.filter((function(e){return e._cfg.version>t})).forEach((function(t){i.push((function(){var r=Lt,i=t._cfg.dbschema;pt(r,n),pt(i,n),Lt=Xt._dbSchema=i;var o=x(r,i);if(o.add.forEach((function(t){I(n,t[0],t[1].primKey,t[1].indexes)})),o.change.forEach((function(t){if(t.recreate)throw new te.Upgrade("Not yet support for changing primary key");var e=n.objectStore(t.name);t.add.forEach((function(t){D(e,t)})),t.change.forEach((function(t){e.deleteIndex(t.name),D(e,t)})),t.del.forEach((function(t){e.deleteIndex(t)}))})),t._cfg.contentUpgrade)return a=!0,L.follow((function(){t._cfg.contentUpgrade(e)}))})),i.push((function(e){a&&He||S(t._cfg.dbschema,e)}))})),r().then((function(){C(Lt,n)}))}function x(t,e){var n={del:[],add:[],change:[]};for(var r in t)e[r]||n.del.push(r);for(r in e){var i=t[r],o=e[r];if(i){var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src)a.recreate=!0,n.change.push(a);else{var s=i.idxByName,u=o.idxByName;for(var c in s)u[c]||a.del.push(c);for(c in u){var f=s[c],l=u[c];f?f.src!==l.src&&a.change.push(l):a.add.push(l)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,o])}return n}function I(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(t){D(i,t)})),i}function C(t,e){Pt(t).forEach((function(n){e.db.objectStoreNames.contains(n)||I(e,n,t[n].primKey,t[n].indexes)}))}function S(t,e){for(var n=0;n<e.db.objectStoreNames.length;++n){var r=e.db.objectStoreNames[n];null==t[r]&&e.db.deleteObjectStore(r)}}function D(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function F(t,e,n){if(Yt||Ee.letThrough){var r=Xt._createTransaction(t,e,Lt);try{r.create()}catch(t){return Me(t)}return r._promise(t,(function(t,e){return ot((function(){return Ee.trans=r,n(t,e,r)}))})).then((function(t){return r._completion.then((function(){return t}))}))}if(!$t){if(!Bt)return Me(new te.DatabaseClosed);Xt.open().catch(P)}return ee.then((function(){return F(t,e,n)}))}function N(t,e,n){var r=arguments.length;if(r<2)throw new te.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[t,b(i),n]}function U(t,e,n){this.name=t,this.schema=e,this._tx=n,this.hook=Ht[t]?Ht[t].hook:yt(null,{creating:[K,P],reading:[R,T],updating:[B,P],deleting:[M,P]})}function V(t,e,n){return(n?It:xt)((function(n){t.push(n),e&&e()}))}function z(t,e,n,r,i){return new L((function(o,a){var s=n.length,u=s-1;if(0===s)return o();if(r){var c,f=It(a),l=kt(null);p((function(){for(var r=0;r<s;++r){c={onsuccess:null,onerror:null};var a=n[r];i.call(c,a[0],a[1],e);var h=t.delete(a[0]);h._hookCtx=c,h.onerror=f,h.onsuccess=r===u?kt(o):l}}),(function(t){throw c.onerror&&c.onerror(t),t}))}else for(var h=0;h<s;++h){var d=t.delete(n[h]);d.onerror=xt(a),h===u&&(d.onsuccess=it((function(){return o()})))}}))}function W(t,e,n,r){var i=this;this.db=Xt,this.mode=t,this.storeNames=e,this.idbtrans=null,this.on=yt(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new L((function(t,e){i._resolve=t,i._reject=e})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(t){var e=i.active;return i.active=!1,i.on.error.fire(t),i.parent?i.parent._reject(t):e&&i.idbtrans&&i.idbtrans.abort(),Me(t)}))}function H(t,e,n){this._ctx={table:t,index:":id"===e?null:e,or:n}}function Q(t,e){var n=null,r=null;if(e)try{n=e()}catch(t){r=t}var i=t._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function J(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function $(t,e){return t._cfg.version-e._cfg.version}function G(t,e,n){e.forEach((function(e){var r=n[e];t.forEach((function(t){e in t||(t===W.prototype||t instanceof W?i(t,e,{get:function(){return this.table(e)}}):t[e]=new U(e,r))}))}))}function Y(t){t.forEach((function(t){for(var e in t)t[e]instanceof U&&delete t[e]}))}function Z(t,e,n,r,i,o){var a=o?function(t,e,r){return n(o(t),e,r)}:n,s=it(a,i);t.onerror||(t.onerror=xt(i)),t.onsuccess=d(e?function(){var n=t.result;if(n){var o=function(){n.continue()};e(n,(function(t){o=t}),r,i)&&s(n.value,n,(function(t){o=t})),o()}else r()}:function(){var e=t.result;if(e){var n=function(){e.continue()};s(e.value,e,(function(t){n=t})),n()}else r()},i)}function X(t){var e=[];return t.split(",").forEach((function(t){t=t.trim();var n=t.replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;e.push(new St(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Tt(r),/\./.test(t)))})),e}function tt(t,e){return Nt.cmp(t,e)}function et(t,e){return tt(t,e)<0?t:e}function nt(t,e){return tt(t,e)>0?t:e}function rt(t,e){return Nt.cmp(t,e)}function ut(t,e){return Nt.cmp(e,t)}function ct(t,e){return t<e?-1:t===e?0:1}function ft(t,e){return t>e?-1:t===e?0:1}function lt(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}function ht(){if(Xt.verno=Qt.version/10,Xt._dbSchema=Lt={},Vt=u(Qt.objectStoreNames,0),0!==Vt.length){var t=Qt.transaction(At(Vt),"readonly");Vt.forEach((function(e){for(var n=t.objectStore(e),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),o=new St(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),a=[],s=0;s<n.indexNames.length;++s){var u=n.index(n.indexNames[s]);r=u.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf(".");var c=new St(u.name,r,!!u.unique,!!u.multiEntry,!1,r&&"string"!=typeof r,i);a.push(c)}Lt[e]=new jt(e,o,a,{})})),G([Ht],Pt(Lt),Lt)}}function pt(t,e){for(var n=e.db.objectStoreNames,r=0;r<n.length;++r){var i=n[r],o=e.objectStore(i);_t="getAll"in o;for(var a=0;a<o.indexNames.length;++a){var s=o.indexNames[a],c=o.index(s).keyPath,f="string"==typeof c?c:"["+u(c).join("+")+"]";if(t[i]){var l=t[i].idxByName[f];l&&(l.name=s)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Rt.WorkerGlobalScope&&Rt instanceof Rt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(_t=!1)}function vt(t){Xt.on("blocked").fire(t),ze.filter((function(t){return t.name===Xt.name&&t!==Xt&&!t._vcFired})).map((function(e){return e.on("versionchange").fire(t)}))}var mt,gt,_t,Ft=bt.dependencies,Kt=t({addons:bt.addons,autoOpen:!0,indexedDB:Ft.indexedDB,IDBKeyRange:Ft.IDBKeyRange},o),Mt=Kt.addons,Bt=Kt.autoOpen,Nt=Kt.indexedDB,qt=Kt.IDBKeyRange,Lt=this._dbSchema={},Ut=[],Vt=[],Ht={},Qt=null,Jt=null,$t=!1,Gt=null,Yt=!1,Zt="readwrite",Xt=this,ee=new L((function(t){mt=t})),ne=new L((function(t,e){gt=e})),re=!0,ie=!!Dt(Nt);this.version=function(t){if(Qt||$t)throw new te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=Ut.filter((function(e){return e._cfg.version===t}))[0];return e||(e=new s(t),Ut.push(e),Ut.sort($),re=!1,e)},t(s.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?t(this._cfg.storesSource,e):e;var n={};Ut.forEach((function(e){t(n,e._cfg.storesSource)}));var r=this._cfg.dbschema={};return this._parseStoresSpec(n,r),Lt=Xt._dbSchema=r,Y([Ht,Xt,W.prototype]),G([Ht,Xt,W.prototype,this._cfg.tables],Pt(r),r),Vt=Pt(r),this},upgrade:function(t){return this._cfg.contentUpgrade=t,this},_parseStoresSpec:function(t,e){Pt(t).forEach((function(n){if(null!==t[n]){var r={},i=X(t[n]),o=i.shift();if(o.multi)throw new te.Schema("Primary key cannot be multi-valued");o.keyPath&&m(r,o.keyPath,o.auto?0:o.keyPath),i.forEach((function(t){if(t.auto)throw new te.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new te.Schema("Index must have a name and cannot be an empty string");m(r,t.keyPath,t.compound?t.keyPath.map((function(){return""})):"")})),e[n]=new jt(n,o,i,r)}}))}}),this._allTables=Ht,this._createTransaction=function(t,e,n,r){return new W(t,e,n,r)},this._whenReady=function(t){return Yt||Ee.letThrough?t():new L((function(t,e){if(!$t){if(!Bt)return void e(new te.DatabaseClosed);Xt.open().catch(P)}ee.then(t,e)})).then(t)},this.verno=0,this.open=function(){if($t||Qt)return ee.then((function(){return Jt?Me(Jt):Xt}));Wt&&(ne._stackHolder=E()),$t=!0,Jt=null,Yt=!1;var t=mt,e=null;return L.race([ne,new L((function(t,n){if(!Nt)throw new te.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=re?Nt.open(r):Nt.open(r,Math.round(10*Xt.verno));if(!i)throw new te.MissingAPI("IndexedDB API not available");i.onerror=xt(n),i.onblocked=it(vt),i.onupgradeneeded=it((function(t){if(e=i.transaction,re&&!Xt._allowEmptyDB){i.onerror=Ot,e.abort(),i.result.close();var o=Nt.deleteDatabase(r);o.onsuccess=o.onerror=it((function(){n(new te.NoSuchDatabase("Database "+r+" doesnt exist"))}))}else e.onerror=xt(n),l((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,e,n)}),n),i.onsuccess=it((function(){if(e=null,Qt=i.result,ze.push(Xt),re)ht();else if(Qt.objectStoreNames.length>0)try{pt(Lt,Qt.transaction(At(Qt.objectStoreNames),"readonly"))}catch(t){}Qt.onversionchange=it((function(t){Xt._vcFired=!0,Xt.on("versionchange").fire(t)})),ie||"__dbnames"===r||je.dbnames.put({name:r}).catch(P),t()}),n)}))]).then((function(){return Gt=[],L.resolve(bt.vip(Xt.on.ready.fire)).then((function t(){if(Gt.length>0){var e=Gt.reduce(q,P);return Gt=[],L.resolve(bt.vip(e)).then(t)}}))})).finally((function(){Gt=null})).then((function(){return $t=!1,Xt})).catch((function(t){try{e&&e.abort()}catch(t){}return $t=!1,Xt.close(),Jt=t,Me(Jt)})).finally((function(){Yt=!0,t()}))},this.close=function(){var t=ze.indexOf(Xt);if(t>=0&&ze.splice(t,1),Qt){try{Qt.close()}catch(t){}Qt=null}Bt=!1,Jt=new te.DatabaseClosed,$t&&gt(Jt),ee=new L((function(t){mt=t})),ne=new L((function(t,e){gt=e}))},this.delete=function(){var t=arguments.length>0;return new L((function(e,n){function i(){Xt.close();var t=Nt.deleteDatabase(r);t.onsuccess=it((function(){ie||je.dbnames.delete(r).catch(P),e()})),t.onerror=xt(n),t.onblocked=vt}if(t)throw new te.InvalidArgument("Arguments not allowed in db.delete()");$t?ee.then(i):i()}))},this.backendDB=function(){return Qt},this.isOpen=function(){return null!==Qt},this.hasBeenClosed=function(){return Jt&&Jt instanceof te.DatabaseClosed},this.hasFailed=function(){return null!==Jt},this.dynamicallyOpened=function(){return re},this.name=r,n(this,{tables:{get:function(){return Pt(Ht).map((function(t){return Ht[t]}))}}}),this.on=yt(this,"populate","blocked","versionchange",{ready:[q,P]}),this.on.ready.subscribe=c(this.on.ready.subscribe,(function(t){return function(e,n){bt.vip((function(){Yt?(Jt||L.resolve().then(e),n&&t(e)):Gt?(Gt.push(e),n&&t(e)):(t(e),n||t((function t(){Xt.on.ready.unsubscribe(e),Xt.on.ready.unsubscribe(t)})))}))}})),this.transaction=function(){var t=N.apply(this,arguments);return this._transaction.apply(this,t)},this._transaction=function(t,e,n){function r(){return L.resolve().then((function(){var e=Ee.transless||Ee,r=Xt._createTransaction(t,a,Lt,i),o={trans:r,transless:e};i?r.idbtrans=i.idbtrans:r.create(),n.constructor===he&&at();var s,u=L.follow((function(){if(s=n.call(r,r))if(s.constructor===le){var t=st.bind(null,null);s.then(t,t)}else"function"==typeof s.next&&"function"==typeof s.throw&&(s=Ct(s))}),o);return(s&&"function"==typeof s.then?L.resolve(s).then((function(t){return r.active?t:Me(new te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):u.then((function(){return s}))).then((function(t){return i&&r._resolve(),r._completion.then((function(){return t}))})).catch((function(t){return r._reject(t),Me(t)}))}))}var i=Ee.trans;i&&i.db===Xt&&-1===t.indexOf("!")||(i=null);var o=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{var a=e.map((function(t){var e=t instanceof U?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e}));if("r"==t||"readonly"==t)t="readonly";else{if("rw"!=t&&t!=Zt)throw new te.InvalidArgument("Invalid transaction mode: "+t);t=Zt}if(i){if("readonly"===i.mode&&t===Zt){if(!o)throw new te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach((function(t){if(i&&-1===i.storeNames.indexOf(t)){if(!o)throw new te.SubTransaction("Table "+t+" not included in parent transaction.");i=null}})),o&&i&&!i.active&&(i=null)}}catch(t){return i?i._promise(null,(function(e,n){n(t)})):Me(t)}return i?i._promise(t,r,"lock"):Ee.trans?dt(Ee.transless,(function(){return Xt._whenReady(r)})):Xt._whenReady(r)},this.table=function(t){if(!e(Ht,t))throw new te.InvalidTable("Table "+t+" does not exist");return Ht[t]},n(U.prototype,{_trans:function(t,e,n){var r=this._tx||Ee.trans;return r&&r.db===Xt?r===Ee.trans?r._promise(t,e,n):ot((function(){return r._promise(t,e,n)}),{trans:r,transless:Ee.transless||Ee}):F(t,[this.name],e)},_idbstore:function(t,e,n){function r(t,n,r){if(-1===r.storeNames.indexOf(i))throw new te.NotFound("Table"+i+" not part of transaction");return e(t,n,r.idbtrans.objectStore(i),r)}var i=this.name;return this._trans(t,r,n)},get:function(t,e){if(t&&t.constructor===Object)return this.where(t).first(e);var n=this;return this._idbstore("readonly",(function(e,r,i){var o=i.get(t);o.onerror=xt(r),o.onsuccess=it((function(){e(n.hook.reading.fire(o.result))}),r)})).then(e)},where:function(t){if("string"==typeof t)return new H(this,t);if(Tt(t))return new H(this,"["+t.join("+")+"]");var e=Pt(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(t){return t.compound&&e.every((function(e){return t.keyPath.indexOf(e)>=0}))&&t.keyPath.every((function(t){return e.indexOf(t)>=0}))}))[0];if(n&&qe!==Ne)return this.where(n.name).equals(n.keyPath.map((function(e){return t[e]})));n||console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a compound index ["+e.join("+")+"]");var r=this.schema.idxByName,i=e.reduce((function(e,n){return[e[0]||r[n],e[0]||!r[n]?lt(e[1],(function(e){return""+v(e,n)==""+t[n]})):e[1]]}),[null,null]),o=i[0];return o?this.where(o.name).equals(t[o.keyPath]).filter(i[1]):n?this.filter(i[1]):this.where(e).equals("")},count:function(t){return this.toCollection().count(t)},offset:function(t){return this.toCollection().offset(t)},limit:function(t){return this.toCollection().limit(t)},reverse:function(){return this.toCollection().reverse()},filter:function(t){return this.toCollection().and(t)},each:function(t){return this.toCollection().each(t)},toArray:function(t){return this.toCollection().toArray(t)},orderBy:function(t){return new Q(new H(this,Tt(t)?"["+t.join("+")+"]":t))},toCollection:function(){return new Q(new H(this))},mapToClass:function(t,n){this.schema.mappedClass=t;var r=Object.create(t.prototype);n&&wt(r,n),this.schema.instanceTemplate=r;var i=function(n){if(!n)return n;var r=Object.create(t.prototype);for(var i in n)if(e(n,i))try{r[i]=n[i]}catch(t){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=i,this.hook("reading",i),t},defineClass:function(t){return this.mapToClass(bt.defineClass(t),t)},bulkDelete:function(t){return this.hook.deleting.fire===P?this._idbstore(Zt,(function(e,n,r,i){e(z(r,i,t,!1,P))})):this.where(":id").anyOf(t).delete().then((function(){}))},bulkPut:function(t,e){var n=this;return this._idbstore(Zt,(function(r,i,o){if(!o.keyPath&&!n.schema.primKey.auto&&!e)throw new te.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&e)throw new te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return r();var a,s,u=function(t){0===c.length?r(t):i(new A(n.name+".bulkPut(): "+c.length+" of "+f+" operations failed",c))},c=[],f=t.length,l=n;if(n.hook.creating.fire===P&&n.hook.updating.fire===P){s=V(c);for(var d=0,p=t.length;d<p;++d)a=e?o.put(t[d],e[d]):o.put(t[d]),a.onerror=s;a.onerror=V(c,u),a.onsuccess=Et(u)}else{var m=e||o.keyPath&&t.map((function(t){return v(t,o.keyPath)})),g=m&&h(m,(function(e,n){return null!=e&&[e,t[n]]}));(m?l.where(":id").anyOf(m.filter((function(t){return null!=t}))).modify((function(){this.value=g[this.primKey],g[this.primKey]=null})).catch(j,(function(t){c=t.failures})).then((function(){for(var n=[],r=e&&[],i=m.length-1;i>=0;--i){var o=m[i];(null==o||g[o])&&(n.push(t[i]),e&&r.push(o),null!=o&&(g[o]=null))}return n.reverse(),e&&r.reverse(),l.bulkAdd(n,r)})).then((function(t){var e=m[m.length-1];return null!=e?e:t})):l.bulkAdd(t)).then(u).catch(A,(function(t){c=c.concat(t.failures),u()})).catch(i)}}),"locked")},bulkAdd:function(t,e){var n=this,r=this.hook.creating.fire;return this._idbstore(Zt,(function(i,o,a,s){function u(t){0===h.length?i(t):o(new A(n.name+".bulkAdd(): "+h.length+" of "+d+" operations failed",h))}if(!a.keyPath&&!n.schema.primKey.auto&&!e)throw new te.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(a.keyPath&&e)throw new te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return i();var c,f,l,h=[],d=t.length;if(r!==P){var g,y=a.keyPath;f=V(h,null,!0),l=kt(null),p((function(){for(var n=0,i=t.length;n<i;++n){g={onerror:null,onsuccess:null};var o=e&&e[n],u=t[n],h=e?o:y?v(u,y):void 0,d=r.call(g,h,u,s);null==h&&null!=d&&(y?(u=_(u),m(u,y,d)):o=d),c=null!=o?a.add(u,o):a.add(u),c._hookCtx=g,n<i-1&&(c.onerror=f,g.onsuccess&&(c.onsuccess=l))}}),(function(t){throw g.onerror&&g.onerror(t),t})),c.onerror=V(h,u,!0),c.onsuccess=kt(u)}else{f=V(h);for(var b=0,w=t.length;b<w;++b)c=e?a.add(t[b],e[b]):a.add(t[b]),c.onerror=f;c.onerror=V(h,u),c.onsuccess=Et(u)}}))},add:function(t,e){var n=this.hook.creating.fire;return this._idbstore(Zt,(function(r,i,o,a){var s={onsuccess:null,onerror:null};if(n!==P){var u=null!=e?e:o.keyPath?v(t,o.keyPath):void 0,c=n.call(s,u,t,a);null==u&&null!=c&&(o.keyPath?m(t,o.keyPath,c):e=c)}try{var f=null!=e?o.add(t,e):o.add(t);f._hookCtx=s,f.onerror=It(i),f.onsuccess=kt((function(e){var n=o.keyPath;n&&m(t,n,e),r(e)}))}catch(t){throw s.onerror&&s.onerror(t),t}}))},put:function(t,e){var n=this,r=this.hook.creating.fire,i=this.hook.updating.fire;if(r!==P||i!==P){var o=this.schema.primKey.keyPath,a=void 0!==e?e:o&&v(t,o);return null==a?this.add(t):(t=_(t),this._trans(Zt,(function(){return n.where(":id").equals(a).modify((function(){this.value=t})).then((function(r){return 0===r?n.add(t,e):a}))}),"locked"))}return this._idbstore(Zt,(function(n,r,i){var o=void 0!==e?i.put(t,e):i.put(t);o.onerror=xt(r),o.onsuccess=it((function(e){var r=i.keyPath;r&&m(t,r,e.target.result),n(o.result)}))}))},delete:function(t){return this.hook.deleting.subscribers.length?this.where(":id").equals(t).delete():this._idbstore(Zt,(function(e,n,r){var i=r.delete(t);i.onerror=xt(n),i.onsuccess=it((function(){e(i.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(Zt,(function(t,e,n){var r=n.clear();r.onerror=xt(e),r.onsuccess=it((function(){t(r.result)}))}))},update:function(t,e){if("object"!=a(e)||Tt(e))throw new te.InvalidArgument("Modifications must be an object.");if("object"!=a(t)||Tt(t))return this.where(":id").equals(t).modify(e);Pt(e).forEach((function(n){m(t,n,e[n])}));var n=v(t,this.schema.primKey.keyPath);return void 0===n?Me(new te.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(e)}}),n(W.prototype,{_lock:function(){return f(!Ee.global),++this._reculock,1!==this._reculock||Ee.global||(Ee.lockOwnerFor=this),this},_unlock:function(){if(f(!Ee.global),0==--this._reculock)for(Ee.global||(Ee.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{dt(t[1],t[0])}catch(t){}}return this},_locked:function(){return this._reculock&&Ee.lockOwnerFor!==this},create:function(t){var e=this;if(!this.mode)return this;if(f(!this.idbtrans),!t&&!Qt)switch(Jt&&Jt.name){case"DatabaseClosedError":throw new te.DatabaseClosed(Jt);case"MissingAPIError":throw new te.MissingAPI(Jt.message,Jt);default:throw new te.OpenFailed(Jt)}if(!this.active)throw new te.TransactionInactive;return f(null===this._completion._state),t=this.idbtrans=t||Qt.transaction(At(this.storeNames),this.mode),t.onerror=it((function(n){Ot(n),e._reject(t.error)})),t.onabort=it((function(n){Ot(n),e.active&&e._reject(new te.Abort(t.error)),e.active=!1,e.on("abort").fire(n)})),t.oncomplete=it((function(){e.active=!1,e._resolve()})),this},_promise:function(t,e,n){var r=this;if(t===Zt&&this.mode!==Zt)return Me(new te.ReadOnly("Transaction is readonly"));if(!this.active)return Me(new te.TransactionInactive);if(this._locked())return new L((function(i,o){r._blockedFuncs.push([function(){r._promise(t,e,n).then(i,o)},Ee])}));if(n)return ot((function(){var t=new L((function(t,n){r._lock();var i=e(t,n,r);i&&i.then&&i.then(t,n)}));return t.finally((function(){return r._unlock()})),t._lib=!0,t}));var i=new L((function(t,n){var i=e(t,n,r);i&&i.then&&i.then(t,n)}));return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(t){var e=this._root();if(t=L.resolve(t),e._waitingFor)e._waitingFor=e._waitingFor.then((function(){return t}));else{e._waitingFor=t,e._waitingQueue=[];var n=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(n.get(-1/0).onsuccess=t)}()}var r=e._waitingFor;return new L((function(n,i){t.then((function(t){return e._waitingQueue.push(it(n.bind(null,t)))}),(function(t){return e._waitingQueue.push(it(i.bind(null,t)))})).finally((function(){e._waitingFor===r&&(e._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new te.Abort),this.active=!1},tables:{get:O("Transaction.tables",(function(){return Ht}))},table:function(t){return new U(t,Xt.table(t).schema,this)}}),n(H.prototype,(function(){function t(t,e,n){var r=t instanceof H?new Q(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function e(t){return new Q(t,(function(){return qt.only("")})).limit(0)}function n(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function r(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function i(t,e,n,r,i,o){for(var a=Math.min(t.length,r.length),s=-1,u=0;u<a;++u){var c=e[u];if(c!==r[u])return i(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):i(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;i(t[u],c)<0&&(s=u)}return a<r.length&&"next"===o?t+n.substr(t.length):a<t.length&&"prev"===o?t.substr(0,n.length):s<0?null:t.substr(0,s)+r[s]+n.substr(s+1)}function o(e,o,a,s){function u(t){c=n(t),f=r(t),l="next"===t?ct:ft;var e=a.map((function(t){return{lower:f(t),upper:c(t)}})).sort((function(t,e){return l(t.lower,e.lower)}));h=e.map((function(t){return t.upper})),d=e.map((function(t){return t.lower})),p=t,v="next"===t?"":s}var c,f,l,h,d,p,v,m=a.length;if(!a.every((function(t){return"string"==typeof t})))return t(e,Ve);u("next");var g=new Q(e,(function(){return qt.bound(h[0],d[m-1]+s)}));g._ondirectionchange=function(t){u(t)};var y=0;return g._addAlgorithm((function(t,e,n){var r=t.key;if("string"!=typeof r)return!1;var a=f(r);if(o(a,d,y))return!0;for(var s=null,u=y;u<m;++u){var c=i(r,a,h[u],d[u],l,p);null===c&&null===s?y=u+1:(null===s||l(s,c)>0)&&(s=c)}return e(null!==s?function(){t.continue(s+v)}:n),!1})),g}return{between:function(n,r,i,o){i=!1!==i,o=!0===o;try{return tt(n,r)>0||0===tt(n,r)&&(i||o)&&(!i||!o)?e(this):new Q(this,(function(){return qt.bound(n,r,!i,!o)}))}catch(e){return t(this,Ue)}},equals:function(t){return new Q(this,(function(){return qt.only(t)}))},above:function(t){return new Q(this,(function(){return qt.lowerBound(t,!0)}))},aboveOrEqual:function(t){return new Q(this,(function(){return qt.lowerBound(t)}))},below:function(t){return new Q(this,(function(){return qt.upperBound(t,!0)}))},belowOrEqual:function(t){return new Q(this,(function(){return qt.upperBound(t)}))},startsWith:function(e){return"string"!=typeof e?t(this,Ve):this.between(e,e+Ne,!0,!0)},startsWithIgnoreCase:function(t){return""===t?this.startsWith(t):o(this,(function(t,e){return 0===t.indexOf(e[0])}),[t],Ne)},equalsIgnoreCase:function(t){return o(this,(function(t,e){return t===e[0]}),[t],"")},anyOfIgnoreCase:function(){var t=k.apply(zt,arguments);return 0===t.length?e(this):o(this,(function(t,e){return-1!==e.indexOf(t)}),t,"")},startsWithAnyOfIgnoreCase:function(){var t=k.apply(zt,arguments);return 0===t.length?e(this):o(this,(function(t,e){return e.some((function(e){return 0===t.indexOf(e)}))}),t,Ne)},anyOf:function(){var n=k.apply(zt,arguments),r=rt;try{n.sort(r)}catch(e){return t(this,Ue)}if(0===n.length)return e(this);var i=new Q(this,(function(){return qt.bound(n[0],n[n.length-1])}));i._ondirectionchange=function(t){r="next"===t?rt:ut,n.sort(r)};var o=0;return i._addAlgorithm((function(t,e,i){for(var a=t.key;r(a,n[o])>0;)if(++o===n.length)return e(i),!1;return 0===r(a,n[o])||(e((function(){t.continue(n[o])})),!1)})),i},notEqual:function(t){return this.inAnyRange([[Le,t],[t,qe]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var e=k.apply(zt,arguments);if(0===e.length)return new Q(this);try{e.sort(rt)}catch(e){return t(this,Ue)}var n=e.reduce((function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[Le,e]]}),null);return n.push([e[e.length-1],qe]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){function i(t,e){for(var n=0,r=t.length;n<r;++n){var i=t[n];if(tt(e[0],i[1])<0&&tt(e[1],i[0])>0){i[0]=et(i[0],e[0]),i[1]=nt(i[1],e[1]);break}}return n===r&&t.push(e),t}function o(t,e){return f(t[0],e[0])}function a(t){return!h(t)&&!d(t)}if(0===n.length)return e(this);if(!n.every((function(t){return void 0!==t[0]&&void 0!==t[1]&&rt(t[0],t[1])<=0})))return t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",te.InvalidArgument);var s,u=!r||!1!==r.includeLowers,c=r&&!0===r.includeUppers,f=rt;try{s=n.reduce(i,[]),s.sort(o)}catch(e){return t(this,Ue)}var l=0,h=c?function(t){return rt(t,s[l][1])>0}:function(t){return rt(t,s[l][1])>=0},d=u?function(t){return ut(t,s[l][0])>0}:function(t){return ut(t,s[l][0])>=0},p=h,v=new Q(this,(function(){return qt.bound(s[0][0],s[s.length-1][1],!u,!c)}));return v._ondirectionchange=function(t){"next"===t?(p=h,f=rt):(p=d,f=ut),s.sort(o)},v._addAlgorithm((function(t,e,n){for(var r=t.key;p(r);)if(++l===s.length)return e(n),!1;return!!a(r)||0!==tt(r,s[l][1])&&0!==tt(r,s[l][0])&&(e((function(){f===rt?t.continue(s[l][0]):t.continue(s[l][1])})),!1)})),v},startsWithAnyOf:function(){var n=k.apply(zt,arguments);return n.every((function(t){return"string"==typeof t}))?0===n.length?e(this):this.inAnyRange(n.map((function(t){return[t,t+Ne]}))):t(this,"startsWithAnyOf() only works with strings")}}})),n(Q.prototype,(function(){function n(t,e){t.filter=lt(t.filter,e)}function r(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return lt(r(),e())}:e,t.justLimit=n&&!r}function i(t,e){t.isMatch=lt(t.isMatch,e)}function o(t,e){if(t.isPrimKey)return e;var n=t.table.schema.idxByName[t.index];if(!n)throw new te.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return e.index(n.name)}function a(t,e){var n=o(t,e);return t.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(t.range||null,t.dir+t.unique):n.openCursor(t.range||null,t.dir+t.unique)}function s(t,n,r,i,o){var s=t.replayFilter?lt(t.filter,t.replayFilter()):t.filter;t.or?function(){function u(){2==++l&&r()}function c(t,r,o){if(!s||s(r,o,u,i)){var a=r.primaryKey,c=""+a;"[object ArrayBuffer]"===c&&(c=""+new Uint8Array(a)),e(f,c)||(f[c]=!0,n(t,r,o))}}var f={},l=0;t.or._iterate(c,u,i,o),Z(a(t,o),t.algorithm,c,u,i,!t.keysOnly&&t.valueMapper)}():Z(a(t,o),lt(t.algorithm,s),n,r,i,!t.keysOnly&&t.valueMapper)}return{_read:function(t,e){var n=this._ctx;return n.error?n.table._trans(null,Me.bind(null,n.error)):n.table._idbstore("readonly",t).then(e)},_write:function(t){var e=this._ctx;return e.error?e.table._trans(null,Me.bind(null,e.error)):e.table._idbstore(Zt,t,"locked")},_addAlgorithm:function(t){var e=this._ctx;e.algorithm=lt(e.algorithm,t)},_iterate:function(t,e,n,r){return s(this._ctx,t,e,n,r)},clone:function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&t(r,e),n._ctx=r,n},raw:function(){return this._ctx.valueMapper=null,this},each:function(t){var e=this._ctx;return this._read((function(n,r,i){s(e,t,n,r,i)}))},count:function(t){var e=this._ctx;if(J(e,!0))return this._read((function(t,n,r){var i=o(e,r),a=e.range?i.count(e.range):i.count();a.onerror=xt(n),a.onsuccess=function(n){t(Math.min(n.target.result,e.limit))}}),t);var n=0;return this._read((function(t,r,i){s(e,(function(){return++n,!1}),(function(){t(n)}),r,i)}),t)},sortBy:function(t,e){function n(t,e){return e?n(t[i[e]],e-1):t[o]}function r(t,e){var r=n(t,a),i=n(e,a);return r<i?-s:r>i?s:0}var i=t.split(".").reverse(),o=i[0],a=i.length-1,s="next"===this._ctx.dir?1:-1;return this.toArray((function(t){return t.sort(r)})).then(e)},toArray:function(t){var e=this._ctx;return this._read((function(t,n,r){if(_t&&"next"===e.dir&&J(e,!0)&&e.limit>0){var i=e.table.hook.reading.fire,a=o(e,r),u=e.limit<1/0?a.getAll(e.range,e.limit):a.getAll(e.range);u.onerror=xt(n),u.onsuccess=Et(i===T?t:function(e){try{t(e.map(i))}catch(t){n(t)}})}else{var c=[];s(e,(function(t){c.push(t)}),(function(){t(c)}),n,r)}}),t)},offset:function(t){var e=this._ctx;return t<=0||(e.offset+=t,J(e)?r(e,(function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n((function(){t.advance(e),e=0})),!1))}})):r(e,(function(){var e=t;return function(){return--e<0}}))),this},limit:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),r(this._ctx,(function(){var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}}),!0),this},until:function(t,e){return n(this._ctx,(function(n,r,i){return!t(n.value)||(r(i),e)})),this},first:function(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)},last:function(t){return this.reverse().first(t)},filter:function(t){return n(this._ctx,(function(e){return t(e.value)})),i(this._ctx,t),this},and:function(t){return this.filter(t)},or:function(t){return new H(this._ctx.table,t,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))},eachUniqueKey:function(t){return this._ctx.unique="unique",this.eachKey(t)},eachPrimaryKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))},keys:function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)},primaryKeys:function(t){var e=this._ctx;if(_t&&"next"===e.dir&&J(e,!0)&&e.limit>0)return this._read((function(t,n,r){var i=o(e,r),a=e.limit<1/0?i.getAllKeys(e.range,e.limit):i.getAllKeys(e.range);a.onerror=xt(n),a.onsuccess=Et(t)})).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)},uniqueKeys:function(t){return this._ctx.unique="unique",this.keys(t)},firstKey:function(t){return this.limit(1).keys((function(t){return t[0]})).then(t)},lastKey:function(t){return this.reverse().firstKey(t)},distinct:function(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var i={};return n(this._ctx,(function(t){var n=t.primaryKey.toString(),r=e(i,n);return i[n]=!0,!r})),this},modify:function(n){var r=this,i=this._ctx,o=i.table.hook,a=o.updating.fire,s=o.deleting.fire;return this._write((function(i,o,u,c){function f(t,n){function r(t){return O.push(t),C.push(i.primKey),h(),!0}S=n.primaryKey;var i={primKey:n.primaryKey,value:t,onsuccess:null,onerror:null};if(!1!==d.call(i,t,i)){var o=!e(i,"value");++x,p((function(){var t=o?n.delete():n.update(i.value);t._hookCtx=i,t.onerror=It(r),t.onsuccess=kt((function(){++E,h()}))}),r)}else i.onsuccess&&i.onsuccess(i.value)}function l(t){return t&&(O.push(t),C.push(S)),o(new j("Error modifying one or more objects",O,E,C))}function h(){I&&E+O.length===x&&(O.length>0?l():i(E))}var d;if("function"==typeof n)d=a===P&&s===P?n:function(t){var r=_(t);if(!1===n.call(this,t,this))return!1;if(e(this,"value")){var i=w(r,this.value),o=a.call(this,i,this.primKey,r,c);o&&(t=this.value,Pt(o).forEach((function(e){m(t,e,o[e])})))}else s.call(this,this.primKey,t,c)};else if(a===P){var g=Pt(n),b=g.length;d=function(t){for(var e=!1,r=0;r<b;++r){var i=g[r],o=n[i];v(t,i)!==o&&(m(t,i,o),e=!0)}return e}}else{var k=n;n=y(k),d=function(e){var r=!1,i=a.call(this,n,this.primKey,_(e),c);return i&&t(n,i),Pt(n).forEach((function(t){var i=n[t];v(e,t)!==i&&(m(e,t,i),r=!0)})),i&&(n=y(k)),r}}var x=0,E=0,I=!1,O=[],C=[],S=null;r.clone().raw()._iterate(f,(function(){I=!0,h()}),l,u)}))},delete:function(){var t=this,e=this._ctx,n=e.range,r=e.table.hook.deleting.fire,i=r!==P;if(!i&&J(e)&&(e.isPrimKey&&!Qe||!n))return this._write((function(t,e,r){var i=xt(e),o=n?r.count(n):r.count();o.onerror=i,o.onsuccess=function(){var a=o.result;p((function(){var e=n?r.delete(n):r.clear();e.onerror=i,e.onsuccess=function(){return t(a)}}),(function(t){return e(t)}))}}));var o=i?2e3:1e4;return this._write((function(n,a,s,u){var c=0,f=t.clone({keysOnly:!e.isMatch&&!i}).distinct().limit(o).raw(),l=[],h=function t(){return f.each(i?function(t,e){l.push([e.primaryKey,e.value])}:function(t,e){l.push(e.primaryKey)}).then((function(){return i?l.sort((function(t,e){return rt(t[0],e[0])})):l.sort(rt),z(s,u,l,i,r)})).then((function(){var e=l.length;return c+=e,l=[],e<o?c:t()}))};n(h())}))}}})),t(this,{Collection:Q,Table:U,Transaction:W,Version:s,WhereClause:H}),function(){Xt.on("versionchange",(function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+Xt.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Xt.name+"'. Closing db now to resume the delete request."),Xt.close()})),Xt.on("blocked",(function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+Xt.name+"') was blocked"):console.warn("Upgrade '"+Xt.name+"' blocked by other connection holding version "+t.oldVersion/10)}))}(),Mt.forEach((function(t){t(Xt)}))}function _t(t){if("function"==typeof t)return new t;if(Tt(t))return[_t(t[0])];if(t&&"object"==a(t)){var e={};return wt(e,t),e}return t}function wt(t,e){return Pt(e).forEach((function(n){var r=_t(e[n]);t[n]=r})),t}function kt(t){return it((function(e){var n=e.target,r=n._hookCtx,i=r.value||n.result,o=r&&r.onsuccess;o&&o(i),t&&t(i)}),t)}function xt(t){return it((function(e){return Ot(e),t(e.target.error),!1}))}function Et(t){return it((function(e){t(e.target.result)}))}function It(t){return it((function(e){var n=e.target,r=n.error,i=n._hookCtx,o=i&&i.onerror;return o&&o(r),Ot(e),t(r),!1}))}function Ot(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}function Ct(t){function e(t){return function(e){var n=t(e),r=n.value;return n.done?r:r&&"function"==typeof r.then?r.then(i,o):Tt(r)?L.all(r).then(i,o):i(r)}}var n=function(e){return t.next(e)},r=function(e){return t.throw(e)},i=e(n),o=e(r);return e(n)()}function St(t,e,n,r,i,o,a){this.name=t,this.keyPath=e,this.unique=n,this.multi=r,this.auto=i,this.compound=o,this.dotted=a;var s="string"==typeof e?e:e&&"["+[].join.call(e,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+s}function jt(t,e,n,r){this.name=t,this.primKey=e||new St,this.indexes=n||[new St],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=h(n,(function(t){return[t.name,t]}))}function At(t){return 1===t.length?t[0]:t}function Dt(t){var e=t&&(t.getDatabaseNames||t.webkitGetDatabaseNames);return e&&e.bind(t)}var Pt=Object.keys,Tt=Array.isArray,Rt="undefined"!=typeof self?self:"undefined"!=typeof window?window:r,Ft=Object.getPrototypeOf,Kt={}.hasOwnProperty,Mt=Object.defineProperty,Bt=Object.getOwnPropertyDescriptor,Nt=[].slice,qt=[].concat,Lt="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(b([8,16,32,64].map((function(t){return["Int","Uint","Float"].map((function(e){return e+t+"Array"}))})))).filter((function(t){return Rt[t]})).map((function(t){return Rt[t]})),Ut="undefined"!=typeof Symbol&&Symbol.iterator,Vt=Ut?function(t){var e;return null!=t&&(e=t[Ut])&&e.apply(t)}:function(){return null},zt={},Wt="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Ht=function(){return!0},Qt=!new Error("").stack,Jt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],$t=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Gt=Jt.concat($t),Yt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};o(C).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+I(this._e,2))}},toString:function(){return this.name+": "+this.message}}),o(j).from(C),o(A).from(C);var Zt=Gt.reduce((function(t,e){return t[e]=e+"Error",t}),{}),Xt=C,te=Gt.reduce((function(t,e){function n(t,n){this._e=E(),this.name=r,t?"string"==typeof t?(this.message=t,this.inner=n||null):"object"==a(t)&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=Yt[e]||r,this.inner=null)}var r=e+"Error";return o(n).from(Xt),t[e]=n,t}),{});te.Syntax=SyntaxError,te.Type=TypeError,te.Range=RangeError;var ee=$t.reduce((function(t,e){return t[e+"Error"]=te[e],t}),{}),ne=Gt.reduce((function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=te[e]),t}),{});ne.ModifyError=j,ne.DexieError=C,ne.BulkError=A;var re={},ie=100,oe=7,ae=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(e){var t=Rt.Promise;return t?[t.resolve(),t.prototype,t.resolve()]:[]}}(),se=ae[0],ue=ae[1],ce=ae[2],fe=ue&&ue.then,le=se&&se.constructor,he=ae[3],de=!!ce,pe=!1,ve=ce?function(){ce.then(G)}:Rt.setImmediate?setImmediate.bind(null,G):Rt.MutationObserver?function(){var t=document.createElement("div");new MutationObserver((function(){G(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(G,0)},me=function(t,e){Ie.push([t,e]),ye&&(ve(),ye=!1)},ge=!0,ye=!0,be=[],_e=[],we=null,ke=T,xe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:gt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(t){try{gt(t[0],t[1])}catch(t){}}))}},Ee=xe,Ie=[],Oe=0,Ce=[],Se={get:function(){function t(t,r){var i=this,o=!e.global&&(e!==Ee||n!==Re);o&&st();var a=new L((function(n,a){H(i,new U(vt(t,e,o),vt(r,e,o),n,a,e))}));return Wt&&$(a,this),a}var e=Ee,n=Re;return t.prototype=re,t},set:function(t){i(this,"then",t&&t.prototype===re?Se:{get:function(){return t},set:Se.set})}};n(L.prototype,{then:Se,_then:function(t,e){H(this,new U(null,null,t,e,Ee))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,(function(t){return t instanceof e?n(t):rt(t)})):this.then(null,(function(t){return t&&t.name===e?n(t):rt(t)}))},finally:function(t){return this.then((function(e){return t(),e}),(function(e){return t(),rt(e)}))},stack:{get:function(){if(this._stack)return this._stack;try{pe=!0;var t=J(this,[],20),e=t.join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{pe=!1}}},timeout:function(t,e){var n=this;return t<1/0?new L((function(r,i){var o=setTimeout((function(){return i(new te.Timeout(e))}),t);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&i(L.prototype,Symbol.toStringTag,"Promise"),xe.env=ht(),n(L,{all:function(){var t=k.apply(null,arguments).map(ut);return new L((function(e,n){0===t.length&&e([]);var r=t.length;t.forEach((function(i,o){return L.resolve(i).then((function(n){t[o]=n,--r||e(t)}),n)}))}))},resolve:function(t){if(t instanceof L)return t;if(t&&"function"==typeof t.then)return new L((function(e,n){t.then(e,n)}));var e=new L(re,!0,t);return $(e,we),e},reject:rt,race:function(){var t=k.apply(null,arguments).map(ut);return new L((function(e,n){t.map((function(t){return L.resolve(t).then(e,n)}))}))},PSD:{get:function(){return Ee},set:function(t){return Ee=t}},newPSD:ot,usePSD:dt,scheduler:{get:function(){return me},set:function(t){me=t}},rejectionMapper:{get:function(){return ke},set:function(t){ke=t}},follow:function(t,e){return new L((function(n,r){return ot((function(e,n){var r=Ee;r.unhandleds=[],r.onunhandled=n,r.finalize=F((function(){var t=this;tt((function(){0===t.unhandleds.length?e():n(t.unhandleds[0])}))}),r.finalize),t()}),e,n,r)}))}});var je,Ae={awaits:0,echoes:0,id:0},De=0,Pe=[],Te=0,Re=0,Fe=0,Ke="unhandledrejection",Me=L.reject,Be="2.0.4",Ne=String.fromCharCode(65535),qe=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(t){return Ne}}(),Le=-1/0,Ue="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ve="String expected.",ze=[],We="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),He=We,Qe=We,Je=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)};return x(Wt,Je),n(bt,ne),n(bt,{delete:function(t){var e=new bt(t),n=e.delete();return n.onblocked=function(t){return e.on("blocked",t),this},n},exists:function(t){return new bt(t).open().then((function(t){return t.close(),!0})).catch(bt.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(t){var e=Dt(bt.dependencies.indexedDB);return e?new L((function(t,n){var r=e();r.onsuccess=function(e){t(u(e.target.result,0))},r.onerror=xt(n)})).then(t):je.dbnames.toCollection().primaryKeys(t)},defineClass:function(){function e(e){e&&t(this,e)}return e},applyStructure:wt,ignoreTransaction:function(t){return Ee.trans?dt(Ee.transless,t):t()},vip:function(t){return ot((function(){return Ee.letThrough=!0,t()}))},async:function(t){return function(){try{var e=Ct(t.apply(this,arguments));return e&&"function"==typeof e.then?e:L.resolve(e)}catch(t){return Me(t)}}},spawn:function(t,e,n){try{var r=Ct(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:L.resolve(r)}catch(t){return Me(t)}},currentTransaction:{get:function(){return Ee.trans||null}},waitFor:function(t,e){var n=L.resolve("function"==typeof t?bt.ignoreTransaction(t):t).timeout(e||6e4);return Ee.trans?Ee.trans.waitFor(n):n},Promise:L,debug:{get:function(){return Wt},set:function(t){x(t,"dexie"===t?function(){return!0}:Je)}},derive:o,extend:t,props:n,override:c,Events:yt,getByKeyPath:v,setByKeyPath:m,delByKeyPath:g,shallowClone:y,deepClone:_,getObjectDiff:w,asap:l,maxKey:qe,minKey:Le,addons:[],connections:ze,MultiModifyError:te.Modify,errnames:Zt,IndexSpec:St,TableSchema:jt,dependencies:function(){try{return{indexedDB:Rt.indexedDB||Rt.mozIndexedDB||Rt.webkitIndexedDB||Rt.msIndexedDB,IDBKeyRange:Rt.IDBKeyRange||Rt.webkitIDBKeyRange}}catch(t){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:Be,version:Be.split(".").map((function(t){return parseInt(t)})).reduce((function(t,e,n){return t+e/Math.pow(10,2*n)})),default:bt,Dexie:bt}),L.rejectionMapper=D,je=new bt("__dbnames"),je.version(1).stores({dbnames:"name"}),function(){try{void 0!==("undefined"===typeof localStorage?"undefined":a(localStorage))&&void 0!==Rt.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(t){return je.dbnames.put({name:t}).catch(P)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(t){}}(),bt}))}).call(this,n("c8ba"))},bc4c:function(t,e,n){},bcf9:function(t,e,n){var r,i,o;n("99af"),n("4de4"),n("4160"),n("c975"),n("a15b"),n("baa5"),n("d81d"),n("fb6a"),n("a434"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("3ca3"),n("5319"),n("1276"),n("498a"),n("159b"),n("ddb0"),n("2b3d");var a=n("7037");
/* @license
Papa Parse
v5.1.0
https://github.com/mholt/PapaParse
License: MIT
*/!function(n,a){i=[],r=a,o="function"===typeof r?r.apply(e,i):r,void 0===o||(t.exports=o)}(0,(function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,r=n&&/blob:/i.test((e.location||{}).protocol),i={},o=0,s={parse:function(n,r){var a=(r=r||{}).dynamicTyping||!1;if(k(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!k(r.transform)&&r.transform,r.worker&&s.WORKERS_SUPPORTED){var u=function(){if(!s.WORKERS_SUPPORTED)return!1;var n,r,a=(n=e.URL||e.webkitURL||null,r=t.toString(),s.BLOB_URL||(s.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),u=new e.Worker(a);return u.onmessage=g,u.id=o++,i[u.id]=u}();return u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=k(r.step),r.chunk=k(r.chunk),r.complete=k(r.complete),r.error=k(r.error),delete r.worker,void u.postMessage({input:n,config:r,workerId:u.id})}var c=null;return s.NODE_STREAM_INPUT,"string"==typeof n?c=r.download?new f(r):new h(r):!0===n.readable&&k(n.read)&&k(n.on)?c=new d(r):(e.File&&n instanceof File||n instanceof Object)&&(c=new l(r)),c.stream(n)},unparse:function(t,e){var n=!1,r=!0,i=",",o="\r\n",u='"',c=u+u,f=!1,l=null;!function(){if("object"==a(e)){if("string"!=typeof e.delimiter||s.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(i=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(f=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(u=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");l=e.columns}void 0!==e.escapeChar&&(c=e.escapeChar+u)}}();var h=new RegExp(v(u),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return p(null,t,f);if("object"==a(t[0]))return p(l||d(t[0]),t,f)}else if("object"==a(t))return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:d(t.data[0])),Array.isArray(t.data[0])||"object"==a(t.data[0])||(t.data=[t.data])),p(t.fields||[],t.data||[],f);throw new Error("Unable to serialize unrecognized input");function d(t){if("object"!=a(t))return[];var e=[];for(var n in t)e.push(n);return e}function p(t,e,n){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(s&&r){for(var c=0;c<t.length;c++)0<c&&(a+=i),a+=m(t[c],c);0<e.length&&(a+=o)}for(var f=0;f<e.length;f++){var l=s?t.length:e[f].length,h=!1,d=s?0===Object.keys(e[f]).length:0===e[f].length;if(n&&!s&&(h="greedy"===n?""===e[f].join("").trim():1===e[f].length&&0===e[f][0].length),"greedy"===n&&s){for(var p=[],v=0;v<l;v++){var g=u?t[v]:v;p.push(e[f][g])}h=""===p.join("").trim()}if(!h){for(var y=0;y<l;y++){0<y&&!d&&(a+=i);var b=s&&u?t[y]:y;a+=m(e[f][b],y)}f<e.length-1&&(!n||0<l&&!d)&&(a+=o)}}return a}function m(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var r=t.toString().replace(h,c),o="boolean"==typeof n&&n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(r,s.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1);return o?u+r+u:r}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!e.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=m,s.ParserHandle=p,s.NetworkStreamer=f,s.FileStreamer=l,s.StringStreamer=h,s.ReadableStreamStreamer=d,e.jQuery){var u=e.jQuery;u.fn.parse=function(t){var n=t.config||{},r=[];return this.each((function(t){if("INPUT"!==u(this).prop("tagName").toUpperCase()||"file"!==u(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:u.extend({},n)})})),i(),this;function i(){if(0!==r.length){var e,n,i,c,f=r[0];if(k(t.before)){var l=t.before(f.file,f.inputElem);if("object"==a(l)){if("abort"===l.action)return e="AbortError",n=f.file,i=f.inputElem,c=l.reason,void(k(t.error)&&t.error({name:e},n,i,c));if("skip"===l.action)return void o();"object"==a(l.config)&&(f.instanceConfig=u.extend(f.instanceConfig,l.config))}else if("skip"===l)return void o()}var h=f.instanceConfig.complete;f.instanceConfig.complete=function(t){k(h)&&h(t,f.file,f.inputElem),o()},s.parse(f.file,f.instanceConfig)}else k(t.complete)&&t.complete()}function o(){r.splice(0,1),i()}}}function c(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=_(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new p(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=a.meta.cursor;this._finished||(this._partialLine=o.substring(u-this._baseIndex),this._baseIndex=u),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)e.postMessage({results:a,workerId:s.WORKER_ID,finished:c});else if(k(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!k(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){k(this._config.error)?this._config.error(t):r&&this._config.error&&e.postMessage({workerId:s.WORKER_ID,error:t,finished:!1})}}function f(t){var e;(t=t||{}).chunkSize||(t.chunkSize=s.RemoteChunkSize),c.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)),e.open("GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var r in t)e.setRequestHeader(r,t[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{e.send()}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function l(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=s.LocalChunkSize),c.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;c.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function d(t){c.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=w((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=w((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=w((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(t){var e,n,r,i=Math.pow(2,53),o=-i,a=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,u=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,c=this,f=0,l=0,h=!1,d=!1,p=[],g={data:[],errors:[],meta:{}};if(k(t.step)){var y=t.step;t.step=function(e){if(g=e,x())w();else{if(w(),0===g.data.length)return;f+=e.data.length,t.preview&&f>t.preview?n.abort():y(g,c)}}}function b(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function w(){if(g&&r&&(I("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<g.data.length;e++)b(g.data[e])&&g.data.splice(e--,1);return x()&&function(){if(g)if(Array.isArray(g.data[0])){for(var e=0;x()&&e<g.data.length;e++)g.data[e].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(e){k(t.transformHeader)&&(e=t.transformHeader(e)),p.push(e)}}(),function(){if(!g||!t.header&&!t.dynamicTyping&&!t.transform)return g;function e(e,n){var r,i=t.header?{}:[];for(r=0;r<e.length;r++){var o=r,a=e[r];t.header&&(o=r>=p.length?"__parsed_extra":p[r]),t.transform&&(a=t.transform(a,o)),a=E(o,a),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(a)):i[o]=a}return t.header&&(r>p.length?I("FieldMismatch","TooManyFields","Too many fields: expected "+p.length+" fields but parsed "+r,l+n):r<p.length&&I("FieldMismatch","TooFewFields","Too few fields: expected "+p.length+" fields but parsed "+r,l+n)),i}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(e),n=g.data.length):g.data=e(g.data,0),t.header&&g.meta&&(g.meta.fields=p),l+=n,g}()}function x(){return t.header&&0===p.length}function E(e,n){return r=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[r]&&(t.dynamicTyping[r]=t.dynamicTypingFunction(r)),!0===(t.dynamicTyping[r]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(a.test(t)){var e=parseFloat(t);if(o<e&&e<i)return!0}return!1}(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n;var r}function I(t,e,n,r){g.errors.push({type:t,code:e,message:n,row:r})}this.parse=function(i,o,a){var u=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var n=new RegExp(v(e)+"([^]*?)"+v(e),"gm"),r=(t=t.replace(n,"")).split("\r"),i=t.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,u)),r=!1,t.delimiter)k(t.delimiter)&&(t.delimiter=t.delimiter(i),g.meta.delimiter=t.delimiter);else{var c=function(e,n,r,i,o){var a,u,c,f;o=o||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var l=0;l<o.length;l++){var h=o[l],d=0,p=0,v=0;c=void 0;for(var g=new m({comments:i,delimiter:h,newline:n,preview:10}).parse(e),y=0;y<g.data.length;y++)if(r&&b(g.data[y]))v++;else{var _=g.data[y].length;p+=_,void 0!==c?0<_&&(d+=Math.abs(_-c),c=_):c=_}0<g.data.length&&(p/=g.data.length-v),(void 0===u||d<=u)&&(void 0===f||f<p)&&1.99<p&&(u=d,a=h,f=p)}return{successful:!!(t.delimiter=a),bestDelimiter:a}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);c.successful?t.delimiter=c.bestDelimiter:(r=!0,t.delimiter=s.DefaultDelimiter),g.meta.delimiter=t.delimiter}var f=_(t);return t.preview&&t.header&&f.preview++,e=i,n=new m(f),g=n.parse(e,o,a),w(),h?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){c.streamer._halted?(h=!1,c.streamer.parseChunk(e,!0)):setTimeout(this.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),g.meta.aborted=!0,k(t.complete)&&t.complete(g),e=""}}function v(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,o=t.step,a=t.preview,u=t.fastMode,c=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<s.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var f=0,l=!1;this.parse=function(t,s,h){if("string"!=typeof t)throw new Error("Input must be a string");var d=t.length,p=n.length,m=r.length,g=i.length,y=k(o),b=[],_=[],w=[],x=f=0;if(!t)return M();if(u||!1!==u&&-1===t.indexOf(e)){for(var E=t.split(r),I=0;I<E.length;I++){if(w=E[I],f+=w.length,I!==E.length-1)f+=r.length;else if(h)return M();if(!i||w.substr(0,g)!==i){if(y){if(b=[],T(w.split(n)),B(),l)return M()}else T(w.split(n));if(a&&a<=I)return b=b.slice(0,a),M(!0)}}return M()}for(var O=t.indexOf(n,f),C=t.indexOf(r,f),S=new RegExp(v(c)+v(e),"g"),j=t.indexOf(e,f);;)if(t[f]!==e)if(i&&0===w.length&&t.substr(f,g)===i){if(-1===C)return M();f=C+m,C=t.indexOf(r,f),O=t.indexOf(n,f)}else{if(-1!==O&&(O<C||-1===C)){if(!(O<j)){w.push(t.substring(f,O)),f=O+p,O=t.indexOf(n,f);continue}var A=N(O,j,C);if(A&&void 0!==A.nextDelim){O=A.nextDelim,j=A.quoteSearch,w.push(t.substring(f,O)),f=O+p,O=t.indexOf(n,f);continue}}if(-1===C)break;if(w.push(t.substring(f,C)),K(C+m),y&&(B(),l))return M();if(a&&b.length>=a)return M(!0)}else for(j=f,f++;;){if(-1===(j=t.indexOf(e,j+1)))return h||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:f}),F();if(j===d-1)return F(t.substring(f,j).replace(S,e));if(e!==c||t[j+1]!==c){if(e===c||0===j||t[j-1]!==c){var D=R(-1===C?O:Math.min(O,C));if(t[j+1+D]===n){w.push(t.substring(f,j).replace(S,e)),t[f=j+1+D+p]!==e&&(j=t.indexOf(e,f)),O=t.indexOf(n,f),C=t.indexOf(r,f);break}var P=R(C);if(t.substr(j+1+P,m)===r){if(w.push(t.substring(f,j).replace(S,e)),K(j+1+P+m),O=t.indexOf(n,f),j=t.indexOf(e,f),y&&(B(),l))return M();if(a&&b.length>=a)return M(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:f}),j++}}else j++}return F();function T(t){b.push(t),x=f}function R(e){var n=0;if(-1!==e){var r=t.substring(j+1,e);r&&""===r.trim()&&(n=r.length)}return n}function F(e){return h||(void 0===e&&(e=t.substr(f)),w.push(e),f=d,T(w),y&&B()),M()}function K(e){f=e,T(w),w=[],C=t.indexOf(r,f)}function M(t,e){return{data:e?b[0]:b,errors:_,meta:{delimiter:n,linebreak:r,aborted:l,truncated:!!t,cursor:x+(s||0)}}}function B(){o(M(void 0,!0)),b=[],_=[]}function N(r,i,o){var a={nextDelim:void 0,quoteSearch:void 0},s=t.indexOf(e,i+1);if(i<r&&r<s&&(s<o||-1===o)){var u=t.indexOf(n,s);if(-1===u)return a;s<u&&(s=t.indexOf(e,s+1)),a=N(u,s,o)}else a={nextDelim:r,quoteSearch:i};return a}},this.abort=function(){l=!0},this.getCharIndex=function(){return f}}function g(t){var e=t.data,n=i[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){r=!0,y(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(k(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},o),!r);a++);delete e.results}else k(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&y(e.workerId,e.results)}function y(t,e){var n=i[t];k(n.userComplete)&&n.userComplete(e),n.terminate(),delete i[t]}function b(){throw new Error("Not implemented.")}function _(t){if("object"!=a(t)||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=_(t[n]);return e}function w(t,e){return function(){t.apply(e,arguments)}}function k(t){return"function"==typeof t}return r&&(e.onmessage=function(t){var n=t.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=s.parse(n.input,n.config);r&&e.postMessage({workerId:s.WORKER_ID,results:r,finished:!0})}}),(f.prototype=Object.create(c.prototype)).constructor=f,(l.prototype=Object.create(c.prototype)).constructor=l,(h.prototype=Object.create(h.prototype)).constructor=h,(d.prototype=Object.create(c.prototype)).constructor=d,s}))},c908:function(t,e,n){"use strict";var r=n("78b2"),i=n.n(r);i.a},e89f:function(t,e,n){"use strict";var r=n("bc4c"),i=n.n(r);i.a}});
//# sourceMappingURL=app.55878fd6.js.map